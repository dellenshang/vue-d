(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-695a31ac"],{"0647":function(e,a,t){"use strict";var l=t("6990");t.n(l).a},"5cbb":function(e,a,t){"use strict";t.r(a);var l=(t("8e6e"),t("ac6a"),t("456d"),t("bd86")),r=t("2f62"),o=t("f62d");function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);a&&(l=l.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,l)}return t}function c(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){Object(l.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var s={name:"UserAdd",props:{isAdd:Boolean},data:function(){var e=this,a=function(a,t,l){return e.errorInfo=!1,t&&e.localValue2.leaveDate?new Date(e.localValue2.leaveDate)<new Date(e.localValue2.hireDate)?(e.errorInfo=!0,e.errorMsg="退職年月日が入職年月日より前の日付に設定されています。",l(new Error(""))):void l():l()};return{localValue1:{},localValue2:{},localValue3:{},errorInfo:!1,errorMsg:"",loading:!1,currentStep:0,ruleValidate1:{empCode:[{required:!0,trigger:"blur"}],realName:[{required:!0,trigger:"blur"}],email:[{required:!1,validator:function(e,a,t){return a?/[\w'.%+-]+@(?:[a-zA-Z0-9-]+\.)+[a-zA-Z]{2,4}/.test(a)?t():t(new Error("正しく入力してください。")):t()},trigger:"blur"}]},ruleValidate2:{roleIdList:[{required:!0,type:"array",trigger:"change"}],workTypeId:[{type:"number",required:!0,trigger:"change"}],deptId:[{type:"number",required:!0,trigger:"change"}],company:[{required:!0,trigger:"change"}],empTypeId:[{type:"number",required:!0,trigger:"change"}],checkInStartDate:[{required:!0,trigger:"blur"}],hireDate:[{required:!1,validator:a,trigger:"change"}],leaveDate:[{required:!1,validator:a,trigger:"change"}]},isShow:!1,value:[]}},computed:c({},Object(r.e)(["user","dept","company","role","userType"]),{data:function(){return[this.dept.searchList]},companyList:function(){return this.company.list},userTypeList:function(){return this.userType.list},roleList:function(){return this.role.list},mutiDeptList:function(){if(this.dept.searchList.length<1)return[];var e=[];return Object(o.d)(this.dept.searchList[0],(function(a){return e=e.concat({value:a.value,label:a.label})})),e.shift(),e}}),methods:{cancel:function(){this.isShow=!1,this.$refs.localValue1.resetFields(),this.$refs.localValue2.resetFields()},add:function(){this.$emit("add"),this.isShow=!1},update:function(){this.$emit("update",c({},this.localValue3,{empCode:this.localValue1.empCode,realName:this.localValue1.realName,username:this.localValue1.username,gender:this.localValue1.gender,age:this.localValue1.age,email:this.localValue1.email,birthDate:this.localValue1.birthDate,status:this.localValue1.status,empTypeId:this.localValue2.empTypeId,workTypeId:this.localValue2.workTypeId,deptId:this.localValue2.deptId,roleIdList:this.localValue2.roleIdList,company:this.localValue2.company,hireDate:this.localValue2.hireDate,leaveDate:this.localValue2.leaveDate,expiryDate:this.localValue2.expiryDate,checkInStartDate:this.localValue2.checkInStartDate,isAdmin:this.localValue2.isAdmin,adminTime:this.localValue2.adminTime})),this.isShow=!1},onValidate:function(e,a,t){},next:function(){var e=this;return 0===this.currentStep?this.$refs.localValue1.validate((function(a){a&&(e.currentStep+=1)})):1===this.currentStep?this.$refs.localValue2.validate((function(a){a&&(e.currentStep+=1)})):void 0},back:function(){return 0===this.currentStep?void 0:this.currentStep-=1}}},n=(t("0647"),t("2877")),u=Object(n.a)(s,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("span",[!0===e.isAdd?t("Button",{attrs:{type:"primary",size:"large",icon:"md-add-circle"},on:{click:function(a){e.isShow=!0}}},[e._v("追加")]):e._e(),t("Modal",{attrs:{title:e.isAdd?"社員追加":"社員訂正","mask-closable":!1,"footer-hide":"",draggable:""},on:{"on-cancel":e.cancel},model:{value:e.isShow,callback:function(a){e.isShow=a},expression:"isShow"}},[t("Steps",{staticClass:"stepLook",attrs:{current:e.currentStep}},[t("Step",{attrs:{title:"基本情報"}}),t("Step",{attrs:{title:"勤務情報"}}),t("Step",{attrs:{title:"有給関連"}})],1),t("Form",{directives:[{name:"show",rawName:"v-show",value:0===e.currentStep,expression:"currentStep === 0"}],ref:"localValue1",attrs:{"label-width":120,model:e.localValue1,rules:e.ruleValidate1}},[t("FormItem",{attrs:{label:"社員コード",prop:"empCode"}},[t("Input",{attrs:{placeholder:"ログイン用可",maxlength:7},model:{value:e.localValue1.empCode,callback:function(a){e.$set(e.localValue1,"empCode",a)},expression:"localValue1.empCode"}})],1),t("FormItem",{attrs:{label:"社員名",prop:"realName"}},[t("Input",{attrs:{placeholder:"氏名",maxlength:30},model:{value:e.localValue1.realName,callback:function(a){e.$set(e.localValue1,"realName",a)},expression:"localValue1.realName"}})],1),t("FormItem",{attrs:{label:"アカウント名"}},[t("Input",{attrs:{placeholder:"ログイン用可",maxlength:30},model:{value:e.localValue1.username,callback:function(a){e.$set(e.localValue1,"username",a)},expression:"localValue1.username"}})],1),t("FormItem",{attrs:{label:"性別"}},[t("RadioGroup",{staticClass:"radio-fix",model:{value:e.localValue1.gender,callback:function(a){e.$set(e.localValue1,"gender",a)},expression:"localValue1.gender"}},[t("Radio",{attrs:{label:0}},[e._v("未知")]),t("Radio",{attrs:{label:1}},[e._v("男")]),t("Radio",{attrs:{label:2}},[e._v("女")])],1)],1),t("FormItem",{attrs:{label:"年齢"}},[t("Input",{attrs:{placeholder:"年齢",maxlength:3},model:{value:e.localValue1.age,callback:function(a){e.$set(e.localValue1,"age",a)},expression:"localValue1.age"}})],1),t("FormItem",{attrs:{label:"メール",prop:"email"}},[t("Input",{attrs:{placeholder:"メールアドレス",maxlength:50},model:{value:e.localValue1.email,callback:function(a){e.$set(e.localValue1,"email",a)},expression:"localValue1.email"}})],1),t("FormItem",{attrs:{label:"生年月日"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",value:e.localValue1.birthDate,placeholder:"生年月日"},on:{"on-change":function(a){e.localValue1.birthDate=a}}})],1),e.isAdd?e._e():t("FormItem",{attrs:{label:"在職状況"}},[t("RadioGroup",{staticClass:"radio-fix",model:{value:e.localValue1.status,callback:function(a){e.$set(e.localValue1,"status",a)},expression:"localValue1.status"}},[t("Radio",{attrs:{label:1}},[e._v("在職中")]),t("Radio",{attrs:{label:2}},[e._v("休暇中")]),t("Radio",{attrs:{label:3}},[e._v("離職")])],1)],1)],1),t("Form",{directives:[{name:"show",rawName:"v-show",value:1===e.currentStep,expression:"currentStep === 1"}],ref:"localValue2",attrs:{"label-width":120,model:e.localValue2,rules:e.ruleValidate2},on:{"on-validate":e.onValidate}},[t("Alert",{directives:[{name:"show",rawName:"v-show",value:e.errorInfo,expression:"errorInfo"}],staticClass:"error-info",attrs:{type:"error"}},[e._v(e._s(e.errorMsg))]),t("FormItem",{attrs:{label:"社員区分",prop:"empTypeId"}},[t("Select",{attrs:{filterable:""},model:{value:e.localValue2.empTypeId,callback:function(a){e.$set(e.localValue2,"empTypeId",a)},expression:"localValue2.empTypeId"}},e._l(e.userTypeList,(function(a,l){return t("Option",{key:l,attrs:{value:a.typeId}},[e._v(e._s(a.name))])})),1)],1),t("FormItem",{attrs:{label:"勤務体系",prop:"workTypeId"}},[t("Select",{attrs:{filterable:""},model:{value:e.localValue2.workTypeId,callback:function(a){e.$set(e.localValue2,"workTypeId",a)},expression:"localValue2.workTypeId"}},e._l(e.mutiDeptList,(function(a,l){return t("Option",{key:l,attrs:{value:a.value}},[e._v(e._s(a.label))])})),1)],1),t("FormItem",{attrs:{label:"所属名",prop:"deptId"}},[t("Select",{attrs:{filterable:""},model:{value:e.localValue2.deptId,callback:function(a){e.$set(e.localValue2,"deptId",a)},expression:"localValue2.deptId"}},e._l(e.mutiDeptList,(function(a,l){return t("Option",{key:l,attrs:{value:a.value}},[e._v(e._s(a.label))])})),1)],1),t("FormItem",{attrs:{label:"権限",prop:"roleIdList"}},[t("Select",{attrs:{multiple:"",filterable:""},model:{value:e.localValue2.roleIdList,callback:function(a){e.$set(e.localValue2,"roleIdList",a)},expression:"localValue2.roleIdList"}},e._l(e.roleList,(function(a,l){return t("Option",{key:l,attrs:{value:a.value}},[e._v(e._s(a.label))])})),1)],1),t("FormItem",{attrs:{label:"会社",prop:"company"}},[t("Select",{attrs:{filterable:""},model:{value:e.localValue2.company,callback:function(a){e.$set(e.localValue2,"company",a)},expression:"localValue2.company"}},e._l(e.companyList,(function(a,l){return t("Option",{key:l,attrs:{value:a.value}},[e._v(e._s(a.name))])})),1)],1),t("FormItem",{attrs:{label:"入社年月日",prop:"hireDate"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"入社年月日"},on:{"on-change":function(a){e.localValue2.hireDate=a}},model:{value:e.localValue2.hireDate,callback:function(a){e.$set(e.localValue2,"hireDate",a)},expression:"localValue2.hireDate"}})],1),t("FormItem",{attrs:{label:"退職年月日",prop:"leaveDate"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"退職年月日"},on:{"on-change":function(a){e.localValue2.leaveDate=a}},model:{value:e.localValue2.leaveDate,callback:function(a){e.$set(e.localValue2,"leaveDate",a)},expression:"localValue2.leaveDate"}})],1),t("FormItem",{attrs:{label:"契約の締切時間"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",value:e.localValue2.expiryDate,placeholder:"契約の締切時間"},on:{"on-change":function(a){e.localValue2.expiryDate=a}}})],1),t("FormItem",{attrs:{label:"勤務計算開始時間",prop:"checkInStartDate"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",value:e.localValue2.checkInStartDate,placeholder:"勤務計算開始時間"},on:{"on-change":function(a){e.localValue2.checkInStartDate=a}}})],1),t("FormItem",{attrs:{label:"勤務管理対象外社員"}},[t("RadioGroup",{staticClass:"radio-fix",model:{value:e.localValue2.isAdmin,callback:function(a){e.$set(e.localValue2,"isAdmin",a)},expression:"localValue2.isAdmin"}},[t("Radio",{attrs:{label:1}},[e._v("はい")]),t("Radio",{attrs:{label:2}},[e._v("いいえ")])],1)],1),t("FormItem",{directives:[{name:"show",rawName:"v-show",value:1===e.localValue2.isAdmin,expression:"localValue2.isAdmin === 1"}],attrs:{label:"勤務管理対象外時間"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{value:[e.localValue2.diligentStartTime,e.localValue2.diligentEndTime],separator:"~",type:"daterange"},on:{"on-change":function(a){e.localValue2.adminTime=a}}})],1)],1),t("Form",{directives:[{name:"show",rawName:"v-show",value:2===e.currentStep,expression:"currentStep === 2"}],ref:"localValue3",attrs:{"label-width":120,model:e.localValue3}},[t("FormItem",{attrs:{label:"来年有休予定"}},[t("RadioGroup",{staticClass:"radio-fix",model:{value:e.localValue3.vacationPaidType,callback:function(a){e.$set(e.localValue3,"vacationPaidType",a)},expression:"localValue3.vacationPaidType"}},[t("Radio",{attrs:{label:2}},[e._v("通常付与")]),t("Radio",{attrs:{label:1}},[e._v("比例付与")])],1)],1),t("FormItem",{attrs:{label:"既婚フラグ"}},[t("RadioGroup",{staticClass:"radio-fix",model:{value:e.localValue3.married,callback:function(a){e.$set(e.localValue3,"married",a)},expression:"localValue3.married"}},[t("Radio",{attrs:{label:0}},[e._v("独身")]),t("Radio",{attrs:{label:1}},[e._v("既婚")])],1)],1),t("FormItem",{directives:[{name:"show",rawName:"v-show",value:2===e.localValue1.gender,expression:"localValue1.gender === 2"}],attrs:{label:"妊娠日"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",value:e.localValue3.pregnancyDay,placeholder:"妊娠日"},on:{"on-change":function(a){e.localValue3.pregnancyDay=a}}})],1),t("FormItem",{directives:[{name:"show",rawName:"v-show",value:2===e.localValue1.gender,expression:"localValue1.gender === 2"}],attrs:{label:"出産日"}},[t("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy-MM-dd",value:e.localValue3.productionDay,placeholder:"出産日"},on:{"on-change":function(a){e.localValue3.productionDay=a}}})],1)],1),t("div",{staticClass:"my-footer"},[t("Button",{directives:[{name:"show",rawName:"v-show",value:0!==e.currentStep,expression:"currentStep !== 0"}],staticClass:"back-btn",attrs:{type:"primary"},on:{click:e.back}},[e._v("前へ")]),t("Button",{directives:[{name:"show",rawName:"v-show",value:0===e.currentStep,expression:"currentStep === 0"}],staticClass:"back-btn",staticStyle:{visibility:"hidden"},attrs:{type:"primary"}},[e._v("前へ")]),2===e.currentStep&&e.isAdd?t("Button",{staticClass:"next-btn",attrs:{type:"success",loading:e.loading},on:{click:e.add}},[e._v("\n        登録\n      ")]):2!==e.currentStep||e.isAdd?t("Button",{staticClass:"next-btn",attrs:{type:"primary"},on:{click:e.next}},[e._v("次へ")]):t("Button",{staticClass:"next-btn",attrs:{type:"primary",loading:e.loading},on:{click:e.update}},[e._v("\n        更新\n      ")])],1)],1)],1)}),[],!1,null,"4b64b4d2",null);a.default=u.exports},6990:function(e,a,t){}}]);