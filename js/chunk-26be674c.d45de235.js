(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-26be674c","chunk-14dedf21"],{1688:function(t,e,a){"use strict";a.r(e);var s={name:"AutoTaskAdd",props:{isAdd:Boolean},data:function(){return{localValue:{jobStatus:1},cascaderList:[],ruleValidate:{beanName:[{required:!0,message:"入力してください",trigger:"blur"}],cronExpression:[{required:!0,message:"入力してください",trigger:"blur"}],jobStatus:[{required:!0,type:"number",message:"入力してください",trigger:"change"}]},isShow:!1,value:[]}},methods:{cancel:function(){this.isShow=!1,this.$refs.localValue.resetFields()},add:function(){var t=this;this.$refs.localValue.validate((function(e){e&&(t.$emit("add"),t.isShow=!1)}))},update:function(){var t=this;this.$refs.localValue.validate((function(e){e&&(t.$emit("update",t.localValue),t.isShow=!1)}))}}},r=(a("761e"),a("2877")),n=Object(r.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[!0===t.isAdd?a("Button",{staticClass:"mr10",attrs:{type:"success",ghost:"",icon:"md-add"},on:{click:function(e){t.isShow=!0}}},[t._v("追加")]):t._e(),a("Modal",{attrs:{title:t.isAdd?"定時タスク追加":"定時タスク訂正","footer-hide":!0,"mask-closable":!1},on:{"on-cancel":t.cancel},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[a("Form",{ref:"localValue",attrs:{"label-width":120,model:t.localValue,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"BeanName",prop:"beanName"}},[a("Input",{attrs:{placeholder:"BeanName"},model:{value:t.localValue.beanName,callback:function(e){t.$set(t.localValue,"beanName",e)},expression:"localValue.beanName"}})],1),a("FormItem",{attrs:{label:"参数"}},[a("Input",{attrs:{placeholder:"参数"},model:{value:t.localValue.params,callback:function(e){t.$set(t.localValue,"params",e)},expression:"localValue.params"}})],1),a("FormItem",{attrs:{label:"cron表达式",prop:"cronExpression"}},[a("Input",{attrs:{placeholder:"cron表达式"},model:{value:t.localValue.cronExpression,callback:function(e){t.$set(t.localValue,"cronExpression",e)},expression:"localValue.cronExpression"}})],1),a("FormItem",{attrs:{label:"状态",prop:"jobStatus"}},[a("RadioGroup",{staticClass:"radio-fix",model:{value:t.localValue.jobStatus,callback:function(e){t.$set(t.localValue,"jobStatus",e)},expression:"localValue.jobStatus"}},[a("Radio",{attrs:{label:1}},[t._v("正常")]),a("Radio",{attrs:{label:0}},[t._v("暂停")])],1)],1),a("FormItem",{attrs:{label:"备注"}},[a("Input",{attrs:{placeholder:"备注"},model:{value:t.localValue.remark,callback:function(e){t.$set(t.localValue,"remark",e)},expression:"localValue.remark"}})],1)],1),a("div",{staticClass:"my-footer"},[a("Button",{attrs:{type:"text"},on:{click:t.cancel}},[t._v("キャンセル")]),!0===t.isAdd?a("Button",{attrs:{type:"success"},on:{click:t.add}},[t._v("登録")]):a("Button",{attrs:{type:"primary"},on:{click:t.update}},[t._v("更新")])],1)],1)],1)}),[],!1,null,"2308eaa8",null);e.default=n.exports},"2f34":function(t,e,a){},"395d":function(t,e,a){"use strict";a.r(e);var s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),r=(a("96cf"),a("3b8d")),n=a("df04");function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}var i={name:"SystemSettings",components:{AutoTaskAdd:a("1688").default,RefreshButton:n.a.RefreshButton},data:function(){return{loading:!1,forReset:!1,forRest1:!1,cardLoading:!1,isAdd:!0,systemInfo:{},data:[],amount:0,columns:[{title:"Bean",key:"beanName",width:150},{title:"参数",key:"params"},{title:"corn表达式",key:"cronExpression"},{title:"备注",key:"remark",tooltip:!0,width:80},{title:"状态",align:"center",width:80,slot:"status"},{title:"操作",slot:"action",width:80,align:"center"},{type:"selection",width:50,align:"center"}],pageValue:{curPage:1,list:[20,30,50,100],curSize:this.utils.getStorage("SO_userSettings","pageSize")||20},opts:{sidx:"create_time",order:"desc",page:null,limit:this.utils.getStorage("SO_userSettings","pageSize")||20},globalConfigInfo:{}}},created:function(){this.getData(),this.getSystemInfo(),this.getGlobalConfig(),this.globalConfigInfo=this.utils.getStorage("SO_login","system")},computed:{title:function(){return this.systemInfo["システム名前"]}},methods:{getData:function(){try{this.loading=!0,this.getAutoTaskData()}catch(t){return}finally{this.loading=!1}},getAutoTaskData:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.autoTask("fetch",this.opts);case 3:e=t.sent,a=e.data,this.data=a.list,this.amount=a.totalCount,t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return");case 12:case"end":return t.stop()}}),t,this,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),getSystemInfo:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.system("getSystemInfo");case 3:e=t.sent,a=e.data,this.systemInfo=a,t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(0),t.abrupt("return");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),getGlobalConfig:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.cardLoading=!0,t.next=4,this.api.system("getGlobalConfig");case 4:e=t.sent,a=e.data,this.utils.setStorage("SO_login",{system:a}),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(0),t.abrupt("return");case 12:return t.prev=12,this.cardLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[0,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),onAdd:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.$refs.addData.localValue,this.forReset=!this.forReset,!e){t.next=15;break}return t.prev=3,t.next=6,this.api.autoTask("add",e);case 6:this.$Message.success("追加完了"),t.next=12;break;case 9:return t.prev=9,t.t0=t.catch(3),t.abrupt("return");case 12:return t.prev=12,this.getData(),t.finish(12);case 15:case"end":return t.stop()}}),t,this,[[3,9,12,15]])})));return function(){return t.apply(this,arguments)}}(),handleBtn:function(t){var e=this.$refs.updateData;e.isShow=!0,e.localValue=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){Object(s.a)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t),e.localValue.jobStatus=t.status},onUpdate:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.forRest1=!this.forRest1,t.prev=1,t.next=4,this.api.autoTask("update",e);case 4:this.$Message.success("更新完了"),t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return");case 10:return t.prev=10,this.getData(),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[1,7,10,13]])})));return function(e){return t.apply(this,arguments)}}(),changeDefaultPage:function(){var t=Object(r.a)(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.api.system("updateGlobalConfig",{defaultPage:e});case 4:this.getGlobalConfig(),this.$Message.success("更新完了");case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),onRemove:function(){},onRefresh:function(){this.getData(),this.$refs.Page.currentPage=1,this.$Message.success("再表示完了")},pageChange:function(t){this.opts.page=t,this.pageValue.curPage=t,this.getData()},sizeChange:function(t){this.opts.limit=t,this.pageValue.curSize=t,this.utils.setStorage("SO_userSettings",{pageSize:t}),this.getData()}}},l=(a("467d"),a("2877")),u=Object(l.a)(i,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Content",{staticClass:"content"},[a("div",{staticClass:"content_head"},[a("div",{staticClass:"header"},[a("div",{staticClass:"title1"},[a("h1",[a("Icon",{attrs:{type:"i-emeer colored"}}),t._v("\n          "+t._s(t.$route.meta.name)+"\n        ")],1)]),a("div",{staticClass:"btnbox"},[a("Button",{attrs:{type:"primary",ghost:""}},[t._v("执行")]),a("Button",{attrs:{type:"success",ghost:""}},[t._v("恢复")]),a("Button",{attrs:{type:"warning",ghost:""}},[t._v("暂停")]),a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["delete"],expression:"['delete']"}],attrs:{type:"error",ghost:""}},[t._v("削除")]),a("RefreshButton",{on:{refresh:t.onRefresh}})],1)])]),a("div",{staticClass:"content_body"},[a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"16"}},[a("div",{staticClass:"table-top"},[a("Row",{attrs:{gutter:16}},[a("Col",{staticClass:"tl",attrs:{span:"12"}},[!0===t.forReset?a("AutoTaskAdd",{directives:[{name:"auth",rawName:"v-auth",value:["add"],expression:"['add']"}],key:"forReset-1",ref:"addData",attrs:{isAdd:t.isAdd},on:{add:t.onAdd}}):a("AutoTaskAdd",{directives:[{name:"auth",rawName:"v-auth",value:["add"],expression:"['add']"}],key:"forReset-2",ref:"addData",attrs:{isAdd:t.isAdd},on:{add:t.onAdd}}),a("Button",{attrs:{type:"primary",ghost:""}},[t._v("日志一览")])],1),a("Col",{staticClass:"tr",attrs:{span:"12"}},[a("Page",{ref:"Page",attrs:{total:t.amount,current:t.pageValue.curPage,"show-total":"","show-sizer":"","page-size":t.pageValue.curSize,"page-size-opts":t.pageValue.list},on:{"on-change":t.pageChange,"on-page-size-change":t.sizeChange}})],1)],1)],1),a("Table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"tableData",attrs:{border:"",columns:t.columns,data:t.data},scopedSlots:t._u([{key:"status",fn:function(e){var s=e.row;return[a("span",{attrs:{slot:"open"},slot:"open"},[t._v(t._s(s.status))])]}},{key:"action",fn:function(e){var s=e.row;return[a("Button",{directives:[{name:"auth",rawName:"v-auth",value:["update"],expression:"['update']"}],staticStyle:{"margin-right":"5px"},attrs:{type:"primary",ghost:"",size:"small",icon:"ios-create"},on:{click:function(e){return t.handleBtn(s)}}},[t._v("\n              訂正\n            ")])]}}])}),!0===t.forRest1?a("AutoTaskAdd",{directives:[{name:"auth",rawName:"v-auth",value:["update"],expression:"['update']"}],key:"forRest-3",ref:"updateData",attrs:{isAdd:!1},on:{update:function(e){return t.onUpdate(e)}}}):a("AutoTaskAdd",{directives:[{name:"auth",rawName:"v-auth",value:["update"],expression:"['update']"}],key:"forRest-4",ref:"updateData",attrs:{isAdd:!1},on:{update:function(e){return t.onUpdate(e)}}})],1),a("Col",{attrs:{span:"8"}},[a("Card",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}],staticClass:"card",attrs:{title:t.title?t.title:"未定義"}},[a("CellGroup",{staticClass:"tl"},[a("Cell",{attrs:{title:"JVMバージョン",label:t.systemInfo["JVMバージョン"]}}),a("Cell",{attrs:{title:"JVMメモリ",extra:t.systemInfo["JVM使用中メモリ"]+" / "+t.systemInfo["JVM最大メモリ"]}},[a("Progress",{class:100-parseFloat(t.systemInfo["メモリ使用量"])<25?"urge-progress ivu-progress-active":"ivu-progress-active",attrs:{slot:"label",percent:100-parseFloat(t.systemInfo["メモリ使用量"]),"hide-info":""},slot:"label"})],1),a("Cell",{attrs:{title:"会社名",label:t.globalConfigInfo.companyName}}),a("Cell",{attrs:{title:"運用開始時間",label:t.globalConfigInfo.systemStartDate}}),a("Cell",{attrs:{title:"デフォルトページ"}},[a("Input",{staticClass:"non-border-input",attrs:{slot:"label"},slot:"label",model:{value:t.globalConfigInfo.defaultPage,callback:function(e){t.$set(t.globalConfigInfo,"defaultPage",e)},expression:"globalConfigInfo.defaultPage"}}),a("Button",{attrs:{slot:"extra"},on:{click:function(e){return t.changeDefaultPage(t.globalConfigInfo.defaultPage)}},slot:"extra"},[t._v("更新")])],1),a("Cell",{attrs:{title:"サイト状態"}},[a("span",{class:t.globalConfigInfo.siteStatus?"with-dot":"with-dot deny",attrs:{slot:"extra"},slot:"extra"})])],1)],1)],1)],1)],1)])}),[],!1,null,"7a4ca871",null);e.default=u.exports},"467d":function(t,e,a){"use strict";var s=a("2f34");a.n(s).a},"761e":function(t,e,a){"use strict";var s=a("cbd5");a.n(s).a},cbd5:function(t,e,a){}}]);