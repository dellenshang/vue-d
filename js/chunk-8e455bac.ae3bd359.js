(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8e455bac"],{"32d7":function(e,t,a){"use strict";var l=a("409b");a.n(l).a},"409b":function(e,t,a){},4917:function(e,t,a){"use strict";var l=a("cb7c"),n=a("9def"),r=a("0390"),u=a("5f1b");a("214f")("match",1,(function(e,t,a,d){return[function(a){var l=e(this),n=null==a?void 0:a[t];return void 0!==n?n.call(a,l):new RegExp(a)[t](String(l))},function(e){var t=d(a,e,this);if(t.done)return t.value;var o=l(e),i=String(this);if(!o.global)return u(o,i);var s=o.unicode;o.lastIndex=0;for(var c,p=[],m=0;null!==(c=u(o,i));){var h=String(c[0]);p[m]=h,""===h&&(o.lastIndex=r(i,n(o.lastIndex),s)),m++}return 0===m?null:p}]}))},"6bdd":function(e,t,a){"use strict";a.r(t);var l=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),n=(a("4917"),a("df04"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}var u={name:"DepartmentTable",data:function(){return{fetchSign:!1,loading:!1,updateValue:{type:0,name:"",icon:"",url:"",perms:""},addValue:{},addModal:!1,updateModal:!1,inputChangeFlag:!1,ruleValidate:{name:[{required:!0,message:"名称を入力してください",trigger:"blur"}],parentId:[{required:!0,message:"上级菜单を選択してください",trigger:"blur"}]},viewHelper:{perms:""}}},props:{data:Array,casMenu:Array},components:{DeleteButton:n.a.DeleteButton},computed:{leaderData:function(){return this.group.leaderList},inputPrePend:function(){var e=this.addValue.perms.match(/(\w|\W)+(?=list)/g);return e?e[0]:""}},methods:{handleCascader:function(e,t){e.row.managerId=t[t.length-1]},dynamicTitle:function(e){return 0===e?"目录修正":1===e?"菜单修正":"按钮修正"},dynamicLabel:function(e){return 0===e?"目录名称":1===e?"菜单名称":"按钮名称"},handleCascaderView:function(e){return e[e.length-1]},handleCascaderDefaultView:function(e,t){var a=[],l=[],n=0;return function e(t,r){return r.some((function(r){if(a[n]=r.value,r.value===t)return l=l.concat(a),!0;r.children&&r.children.length>0&&(n++,e(t,r.children))})),n--,l}(e,t)},handleUpdate:function(){this.$emit("update",this.updateValue)},handleAdd:function(){this.addValue.perms&&(this.addValue.perms="".concat(this.addValue.perms.match(/(\w|\W)+(?=list)/g)[0]).concat(this.viewHelper.perms)),this.$emit("add",this.addValue)},onRemove:function(e){this.$emit("delete",[e])},openModal:function(e,t){if(t)return this.addValue.menuType=0,this.addValue.parentId=e.menuId,delete this.addValue.perms,2!==t&&(this.addValue.menuType=e.type+1),2===this.addValue.menuType&&(this.addValue.perms=e.perms),this.addModal=!0;this.updateValue=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){Object(l.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e),this.updateValue.menuType=e.type,this.updateModal=!0}}},d=(a("32d7"),a("2877")),o=Object(d.a)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,"row-key":"menuId",border:"",stripe:"","default-expand-all":"","empty-text":"データなし"}},[a("el-table-column",{attrs:{prop:"name",label:"表示名称","min-width":"180"}}),a("el-table-column",{attrs:{prop:"icon",label:"アイコン"}}),a("el-table-column",{attrs:{prop:"type",label:"タイプ",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return"0"!==t.row.level?[2===t.row.type?a("Button",{attrs:{type:"success",ghost:""}},[e._v("ボタン")]):e._e(),1===t.row.type?a("Button",{attrs:{type:"primary",ghost:""}},[e._v("画面")]):e._e(),0===t.row.type?a("Button",{attrs:{disabled:""}},[e._v("メニュー")]):e._e()]:void 0}}],null,!0)}),a("el-table-column",{attrs:{prop:"orderNum",label:"順番"}}),a("el-table-column",{attrs:{prop:"url",label:"URL / Perms","min-width":"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[2===t.row.type?a("span",{staticClass:"btn-perms"},[e._v("\n          "+e._s(t.row.perms.match(/(?<=:)[a-zA-z]+$/g).join())+"\n        ")]):a("span",[e._v(e._s(t.row.url))])]}}])}),a("el-table-column",{attrs:{label:"操作","min-width":"180",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"!==t.row.level&&0===t.row.type?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",ghost:"",size:"small",icon:"ios-add-circle-outline"},on:{click:function(a){return e.openModal(t.row,1)}}},[e._v("\n          追加画面\n        ")]):e._e(),"0"!==t.row.level&&1===t.row.type?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",ghost:"",size:"small",icon:"ios-add-circle-outline"},on:{click:function(a){return e.openModal(t.row,1)}}},[e._v("\n          追加操作\n        ")]):e._e(),"0"!==t.row.level&&2!==t.row.type?a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",ghost:"",size:"small",icon:"ios-create"},on:{click:function(a){return e.openModal(t.row,0)}}},[e._v("\n          訂正\n        ")]):e._e(),"0"!==t.row.level?a("DeleteButton",{attrs:{isLight:!0,type:"error"},on:{remove:function(a){return e.onRemove(t.row.menuId)}}}):a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"success",ghost:"",size:"small",icon:"ios-add-circle-outline"},on:{click:function(a){return e.openModal(t.row,2)}}},[e._v("\n          追加メニュー\n        ")])]}}])})],1),a("Modal",{attrs:{title:e.dynamicTitle(e.updateValue.type)},on:{"on-ok":e.handleUpdate},model:{value:e.updateModal,callback:function(t){e.updateModal=t},expression:"updateModal"}},[a("Form",{attrs:{model:e.updateValue,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{staticStyle:{width:"95%"},attrs:{label:e.dynamicLabel(e.updateValue.type),prop:"name"}},[a("Input",{attrs:{placeholder:"名称",maxlength:40},model:{value:e.updateValue.name,callback:function(t){e.$set(e.updateValue,"name",t)},expression:"updateValue.name"}})],1),1===e.updateValue.type?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"上级菜单",prop:"parentId"}},[a("Cascader",{attrs:{value:e.handleCascaderDefaultView(e.updateValue.parentId,e.casMenu),data:e.casMenu,"render-format":e.handleCascaderView,"change-on-select":"",clearable:!1},on:{"on-change":function(t){e.updateValue.parentId=t[t.length-1]}}})],1):e._e(),2!==e.updateValue.type?a("FormItem",{attrs:{label:"排序号"}},[a("InputNumber",{staticStyle:{width:"93.5%"},attrs:{max:99,min:0,placeholder:"排序号"},model:{value:e.updateValue.orderNum,callback:function(t){e.$set(e.updateValue,"orderNum",t)},expression:"updateValue.orderNum"}})],1):e._e(),1===e.updateValue.type?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"菜单图标 "}},[a("Input",{attrs:{placeholder:"图标",maxlength:15},model:{value:e.updateValue.icon,callback:function(t){e.$set(e.updateValue,"icon",t)},expression:"updateValue.icon"}})],1):e._e(),0===e.updateValue.type?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"去哪儿"}},[a("Input",{attrs:{placeholder:"去哪儿",maxlength:40},model:{value:e.updateValue.toChildUrl,callback:function(t){e.$set(e.updateValue,"toChildUrl",t)},expression:"updateValue.toChildUrl"}})],1):e._e(),1===e.updateValue.type?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"菜单路由"}},[a("Input",{attrs:{placeholder:"菜单路由",maxlength:40},model:{value:e.updateValue.url,callback:function(t){e.$set(e.updateValue,"url",t)},expression:"updateValue.url"}})],1):e._e()],1)],1),a("Modal",{attrs:{title:"追加"},on:{"on-ok":e.handleAdd},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("Form",{attrs:{model:e.addValue,rules:e.ruleValidate,"label-width":120}},[a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"名称",prop:"name"}},[a("Input",{attrs:{placeholder:"名称",maxlength:40},model:{value:e.addValue.name,callback:function(t){e.$set(e.addValue,"name",t)},expression:"addValue.name"}})],1),2!==e.addValue.menuType?a("FormItem",{attrs:{label:"排序号"}},[a("InputNumber",{staticStyle:{width:"93.5%"},attrs:{max:99,min:0,placeholder:"排序号"},model:{value:e.addValue.orderNum,callback:function(t){e.$set(e.addValue,"orderNum",t)},expression:"addValue.orderNum"}})],1):e._e(),1===e.addValue.menuType?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"菜单图标 "}},[a("Input",{attrs:{placeholder:"图标",maxlength:15},model:{value:e.addValue.icon,callback:function(t){e.$set(e.addValue,"icon",t)},expression:"addValue.icon"}})],1):e._e(),0===e.addValue.menuType?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"去哪儿"}},[a("Input",{attrs:{placeholder:"去哪儿",maxlength:40},model:{value:e.addValue.toChildUrl,callback:function(t){e.$set(e.addValue,"toChildUrl",t)},expression:"addValue.toChildUrl"}})],1):e._e(),2!==e.addValue.menuType?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"路由"}},[a("Input",{attrs:{placeholder:"路由",maxlength:40},model:{value:e.addValue.url,callback:function(t){e.$set(e.addValue,"url",t)},expression:"addValue.url"}})],1):e._e(),2===e.addValue.menuType?a("FormItem",{staticStyle:{width:"95%"},attrs:{label:"授权标识"}},[a("Input",{model:{value:e.viewHelper.perms,callback:function(t){e.$set(e.viewHelper,"perms",t)},expression:"viewHelper.perms"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[e._v(e._s(e.inputPrePend))])])],1):e._e()],1)],1)],1)}),[],!1,null,"f845ca9a",null);t.default=o.exports}}]);