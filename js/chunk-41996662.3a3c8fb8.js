(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-41996662","chunk-2d0d07cc"],{"303f":function(e,t,n){"use strict";n.r(t);var a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),r=(n("96cf"),n("3b8d")),c=n("67d9"),i=n("df04");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var s={name:"MachineRegister",components:{MachineTable:c.default,CreateButton:i.a.CreateButton,DeleteButton:i.a.DeleteButton,UpdateButton:i.a.UpdateButton,RefreshButton:i.a.RefreshButton},data:function(){return{fetchSign:!1,data:[]}},created:function(){this.getData()},methods:{getData:function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.machine("fetch");case 2:t=e.sent,n=t.data,this.data=n;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),onAdd:function(){var e=this,t=this.getcha.nearChildren(this,"MachineAdd"),n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t.localValue);t.$refs.localValue.resetFields(),n&&this.api.machine("add",n).then((function(){e.getData(),e.$Message.success("追加完了")}))},onUpdate:function(){var e=this,t=this.$refs.tableData.value;return 0!==t.length?this.api.machine("update",t).then((function(){e.getData(),e.$Message.success("更新完了")})):this.$Modal.warning({title:"注意",content:"修正した項目がないので、保存できませんでした。"})},onRemove:function(){var e=this,t=this.$refs.tableData.value.map((function(e){return e.machineId}));return 0!==t.length?this.api.machine("delete",t).then((function(){e.getData(),e.$Message.success("削除完了")})):this.$Modal.warning({title:"注意",content:"選択した項目がないので、削除できませんでした。"})},onRefresh:function(){var e=this;this.getData().then((function(){e.$Message.success("再表示成功しました。")}))}}},u=n("2877"),l=Object(u.a)(s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Content",{staticClass:"content"},[n("div",{staticClass:"content_head"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title1"},[n("h1",[n("Icon",{attrs:{type:"i-departmentr colored"}}),e._v("\n          "+e._s(e.$route.meta.name)+"\n        ")],1)]),n("div",{staticClass:"btnbox"},[n("CreateButton",{directives:[{name:"auth",rawName:"v-auth",value:["add"],expression:"['add']"}],attrs:{name:"MachineAdd"},on:{add:e.onAdd}}),n("UpdateButton",{directives:[{name:"auth",rawName:"v-auth",value:["update"],expression:"['update']"}],on:{update:e.onUpdate}}),n("DeleteButton",{directives:[{name:"auth",rawName:"v-auth",value:["delete"],expression:"['delete']"}],on:{remove:e.onRemove}}),n("RefreshButton",{on:{refresh:e.onRefresh}})],1)])]),n("div",{staticClass:"content_body"},[n("MachineTable",{ref:"tableData",attrs:{data:e.data}})],1)])}),[],!1,null,"36323ed6",null);t.default=l.exports},"67d9":function(e,t,n){"use strict";n.r(t);var a=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),r=n("2f62");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var i={name:"MachineTable",props:{data:Array},data:function(){return{columns:[{title:"端末番号",key:"machineId",width:100,align:"center"},{title:"設置場所メモ",slot:"place",align:"center"},{title:"対象",width:65,align:"center",slot:"check"}],fetchSign:!1,value:[],fixProMode:!0}},updated:function(){this.value=[]},beforeUpdate:function(){var e=this;this.fixProMode=!this.fixProMode,setTimeout((function(){e.fixProMode=!e.fixProMode}))},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(r.e)(["loading"])),methods:{handleBlur:function(e,t,n){e!==n&&this.checkThis(t._index)},checkThis:function(e){var t=this.getcha.allChildrens(this,"Checkbox");!1===t[e].currentValue&&t[e].$el.click()},show:function(e,t){var n=t._index;if(e.target.checked){if(this.value.some((function(e){return e._index===n})))return;this.value.push(t)}!1===e.target.checked&&(this.value=this.value.filter((function(e){return e._index!==n})))}}},o=n("2877"),s=Object(o.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{border:"",columns:e.columns,data:e.data,loading:e.loading},scopedSlots:e._u([{key:"place",fn:function(t){var a=t.row,r=t.index;return[n("Input",{attrs:{type:"text"},on:{"on-blur":function(t){return e.handleBlur(t.target.value,a,e.data[r].place)}},model:{value:a.place,callback:function(t){e.$set(a,"place",t)},expression:"row.place"}})]}},{key:"check",fn:function(t){var a=t.row;return e.fixProMode?[n("Checkbox",{nativeOn:{click:function(t){return e.show(t,a)}}})]:void 0}}],null,!0)})}),[],!1,null,"d0491d9e",null);t.default=s.exports}}]);